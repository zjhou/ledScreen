var t={big:{_ful:[[1,1,1,1,1,1,0],[1,1,1,1,1,1,0],[1,1,1,1,1,1,0],[1,1,1,1,1,1,0],[1,1,1,1,1,1,0],[1,1,1,1,1,1,0],[1,1,1,1,1,1,0],[1,1,1,1,1,1,0],[1,1,1,1,1,1,0]],_1:[[0,0,0,1,0,0,0],[0,0,1,1,0,0,0],[0,0,0,1,0,0,0],[0,0,0,1,0,0,0],[0,0,0,1,0,0,0],[0,0,0,1,0,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0]],_2:[[0,0,1,1,1,0,0],[0,1,0,0,0,1,0],[0,0,0,0,0,1,0],[0,0,0,1,1,0,0],[0,0,1,0,0,0,0],[0,1,0,0,0,0,0],[0,1,1,1,1,1,0],[0,0,0,0,0,0,0]],_3:[[0,0,1,1,1,0,0],[0,1,0,0,0,1,0],[0,0,0,0,0,1,0],[0,0,0,1,1,0,0],[0,0,0,0,0,1,0],[0,1,0,0,0,1,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0]],_4:[[0,0,0,1,1,0,0],[0,0,1,0,1,0,0],[0,1,0,0,1,0,0],[0,1,1,1,1,1,0],[0,0,0,0,1,0,0],[0,0,0,0,1,0,0],[0,0,0,0,1,0,0],[0,0,0,0,0,0,0]],_5:[[0,1,1,1,1,1,0],[0,1,0,0,0,0,0],[0,1,0,0,0,0,0],[0,1,1,1,1,0,0],[0,0,0,0,0,1,0],[0,0,0,0,0,1,0],[0,1,1,1,1,0,0],[0,0,0,0,0,0,0]],_6:[[0,0,1,1,1,0,0],[0,1,0,0,0,1,0],[0,1,0,0,0,0,0],[0,1,1,1,1,0,0],[0,1,0,0,0,1,0],[0,1,0,0,0,1,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0]],_7:[[0,1,1,1,1,1,0],[0,1,0,0,0,1,0],[0,0,0,0,0,1,0],[0,0,0,0,1,0,0],[0,0,0,1,0,0,0],[0,0,0,1,0,0,0],[0,0,0,1,0,0,0],[0,0,0,0,0,0,0]],_8:[[0,0,1,1,1,0,0],[0,1,0,0,0,1,0],[0,1,0,0,0,1,0],[0,0,1,1,1,0,0],[0,1,0,0,0,1,0],[0,1,0,0,0,1,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0]],_9:[[0,0,1,1,1,0,0],[0,1,0,0,0,1,0],[0,1,0,0,0,1,0],[0,0,1,1,1,1,0],[0,0,0,0,0,1,0],[0,1,0,0,0,1,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0]],_0:[[0,0,1,1,1,0,0],[0,1,0,0,0,1,0],[0,1,0,0,1,1,0],[0,1,0,1,0,1,0],[0,1,1,0,0,1,0],[0,1,0,0,0,1,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0]],_a:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,0,0],[0,0,0,1,0],[0,1,1,1,0],[1,0,0,1,0],[0,1,1,1,0],[0,0,0,0,0],[0,0,0,0,0]],_b:[[1,0,0,0,0],[1,0,0,0,0],[1,1,1,0,0],[1,0,0,1,0],[1,0,0,1,0],[1,0,0,1,0],[1,1,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],_c:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,0],[0,0,0,0,0]],_d:[[0,0,0,1,0],[0,0,0,1,0],[0,1,1,1,0],[1,0,0,1,0],[1,0,0,1,0],[1,0,0,1,0],[0,1,1,1,0],[0,0,0,0,0],[0,0,0,0,0]],_e:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,0,0],[1,0,0,1,0],[1,1,1,1,0],[1,0,0,0,0],[0,1,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],_f:[[0,0,1,0],[0,1,0,0],[1,1,1,0],[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,0,0,0],[0,0,0,0]],_g:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,1,0],[1,0,0,1,0],[1,0,0,1,0],[0,1,1,1,0],[0,0,0,1,0],[0,1,1,0,0]],_h:[[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,0,0],[1,0,0,1,0],[1,0,0,1,0],[1,0,0,1,0],[0,0,0,0,0],[0,0,0,0,0]],_i:[[1,0],[0,0],[1,0],[1,0],[1,0],[1,0],[1,0],[0,0],[0,0]],_j:[[0,1,0],[0,0,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[1,0,0]],_k:[[1,0,0,0,0],[1,0,0,0,0],[1,0,0,1,0],[1,0,1,0,0],[1,1,0,0,0],[1,0,1,0,0],[1,0,0,1,0],[0,0,0,0,0],[0,0,0,0,0]],_l:[[1,0,0],[1,0,0],[1,0,0],[1,0,0],[1,0,0],[1,0,0],[0,1,0],[0,0,0],[0,0,0]],_m:[[0,0,0,0,0,0],[0,0,0,0,0,0],[1,1,0,1,0,0],[1,0,1,0,1,0],[1,0,1,0,1,0],[1,0,1,0,1,0],[1,0,1,0,1,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_n:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,0,0],[1,0,0,1,0],[1,0,0,1,0],[1,0,0,1,0],[1,0,0,1,0],[0,0,0,0,0],[0,0,0,0,0]],_o:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,0,0],[1,0,0,1,0],[1,0,0,1,0],[1,0,0,1,0],[0,1,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],_p:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,0,0],[1,0,0,1,0],[1,0,0,1,0],[1,0,0,1,0],[1,1,1,0,0],[1,0,0,0,0],[1,0,0,0,0]],_q:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,0,0,0,1]],_r:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,0,0],[1,0,0,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],_s:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,0],[0,1,1,0,0],[0,0,0,1,0],[1,1,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],_t:[[0,1,0,0],[0,1,0,0],[1,1,1,0],[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,0,0,0],[0,0,0,0]],_u:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,1,0],[1,0,0,1,0],[1,0,0,1,0],[1,0,0,1,0],[0,1,1,1,0],[0,0,0,0,0],[0,0,0,0,0]],_v:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,1,0],[1,0,0,1,0],[1,0,0,1,0],[1,0,0,1,0],[0,1,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],_w:[[0,0,0,0,0,0],[0,0,0,0,0,0],[1,0,1,0,1,0],[1,0,1,0,1,0],[1,0,1,0,1,0],[1,0,1,0,1,0],[0,1,0,1,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_x:[[0,0,0,0,0,0],[0,0,0,0,0,0],[1,0,0,0,1,0],[0,1,0,1,0,0],[0,0,1,0,0,0],[0,1,0,1,0,0],[1,0,0,0,1,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_y:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,1,0],[1,0,0,1,0],[1,0,0,1,0],[0,1,1,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,1,1,0,0]],_z:[[0,0,0,0,0,0],[0,0,0,0,0,0],[1,1,1,1,1,0],[0,0,0,1,0,0],[0,0,1,0,0,0],[0,1,0,0,0,0],[1,1,1,1,1,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_Z:[[1,1,1,1,1,0],[0,0,0,0,1,0],[0,0,0,1,0,0],[0,0,1,0,0,0],[0,1,0,0,0,0],[1,0,0,0,0,0],[1,1,1,1,1,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_Y:[[1,0,0,0,1,0],[1,0,0,0,1,0],[0,1,0,1,0,0],[0,0,1,0,0,0],[0,0,1,0,0,0],[0,0,1,0,0,0],[0,0,1,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_X:[[1,0,0,0,1,0],[1,0,0,0,1,0],[0,1,0,1,0,0],[0,0,1,0,0,0],[0,1,0,1,0,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_W:[[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,1,0,1,0],[1,1,0,1,1,0],[1,0,0,0,1,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_V:[[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[0,1,0,1,0,0],[0,0,1,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_U:[[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[0,1,1,1,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_T:[[1,1,1,1,1,0],[0,0,1,0,0,0],[0,0,1,0,0,0],[0,0,1,0,0,0],[0,0,1,0,0,0],[0,0,1,0,0,0],[0,0,1,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_S:[[0,1,1,1,0,0],[1,0,0,0,1,0],[1,0,0,0,0,0],[0,1,1,1,0,0],[0,0,0,0,1,0],[1,0,0,0,1,0],[0,1,1,1,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_R:[[1,1,1,1,0,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,1,1,1,0,0],[1,0,1,0,0,0],[1,0,0,1,0,0],[1,0,0,0,1,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_Q:[[0,1,1,1,0,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,1,0,1,0],[0,1,1,1,0,0],[0,0,0,0,1,0],[0,0,0,0,0,0]],_P:[[1,1,1,1,0,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,1,1,1,1,0],[1,0,0,0,0,0],[1,0,0,0,0,0],[1,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_O:[[0,1,1,1,0,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[0,1,1,1,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_N:[[1,0,0,0,1,0],[1,1,0,0,1,0],[1,0,1,0,1,0],[1,0,0,1,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_M:[[1,0,0,0,1,0],[1,1,0,1,1,0],[1,0,1,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_L:[[1,0,0,0,0,0],[1,0,0,0,0,0],[1,0,0,0,0,0],[1,0,0,0,0,0],[1,0,0,0,0,0],[1,0,0,0,0,0],[1,1,1,1,1,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_K:[[1,0,0,0,1,0],[1,0,0,1,0,0],[1,0,1,0,0,0],[1,1,0,0,0,0],[1,0,1,0,0,0],[1,0,0,1,0,0],[1,0,0,0,1,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_J:[[1,1,1,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[1,0,0,1,0],[0,1,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],_I:[[1,1,1,0],[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0],[1,1,1,0],[0,0,0,0],[0,0,0,0]],_H:[[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,1,1,1,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_G:[[0,1,1,1,0,0],[1,0,0,0,1,0],[1,0,0,0,0,0],[1,0,0,1,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[0,1,1,1,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_F:[[1,1,1,1,1,0],[1,0,0,0,0,0],[1,0,0,0,0,0],[1,1,1,1,0,0],[1,0,0,0,0,0],[1,0,0,0,0,0],[1,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_E:[[1,1,1,1,1,0],[1,0,0,0,0,0],[1,0,0,0,0,0],[1,1,1,1,0,0],[1,0,0,0,0,0],[1,0,0,0,0,0],[1,1,1,1,1,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_D:[[1,1,1,0,0,0],[1,0,0,1,0,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,1,1,1,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_C:[[0,1,1,1,0,0],[1,0,0,0,1,0],[1,0,0,0,0,0],[1,0,0,0,0,0],[1,0,0,0,0,0],[1,0,0,0,1,0],[0,1,1,1,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_B:[[1,1,1,0,0,0],[1,0,0,1,0,0],[1,0,0,1,0,0],[1,1,1,1,0,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,1,1,1,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_A:[[0,0,1,0,0,0],[0,1,0,1,0,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,1,1,1,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_col:[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],_dot:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[1,0],[0,0],[0,0]],_pct:[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,1,1,0,0,1,0],[0,1,1,0,1,0,0],[0,0,0,1,0,0,0],[0,0,1,0,1,1,0],[0,1,0,0,1,1,0],[0,0,0,0,0,0,0]],_spa:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],_ats:[[0,0,1,1,1,1,0,0],[0,1,0,0,0,0,1,0],[1,0,0,1,1,0,1,0],[1,0,1,0,1,0,1,0],[1,0,1,0,1,0,1,0],[1,0,0,1,1,0,1,0],[1,0,0,0,0,1,0,0],[0,1,0,0,0,0,0,0],[0,0,1,1,1,1,0,0]],_car:[[0,0,1,0,0,0],[0,1,0,1,0,0],[1,0,0,0,1,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_sta:[[0,0,0,0,0,0],[0,0,1,0,0,0],[1,0,1,0,1,0],[0,1,1,1,0,0],[1,0,1,0,1,0],[0,0,1,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_lbr:[[0,0,1,0],[0,1,0,0],[1,0,0,0],[1,0,0,0],[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,0],[0,0,0,0]],_rbr:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,1,0,0],[1,0,0,0],[0,0,0,0],[0,0,0,0]],_com:[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,1,0],[0,1,0],[1,0,0]],_sem:[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,1,0],[0,0,0],[0,1,0],[0,1,0],[1,0,0]],_dbq:[[1,0,1,0],[1,0,1,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],_sgq:[[1,0],[1,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],_dol:[[0,0,0,0,0],[0,0,1,0,0],[0,1,1,1,0],[1,0,1,0,0],[0,1,1,0,0],[0,0,1,1,0],[1,1,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],_pou:[[0,0,0,0,0,0],[0,1,0,1,0,0],[0,1,0,1,0,0],[1,1,1,1,1,0],[0,1,0,1,0,0],[1,1,1,1,1,0],[0,1,0,1,0,0],[0,1,0,1,0,0],[0,0,0,0,0,0]],_que:[[0,1,1,1,0,0],[1,0,0,0,1,0],[0,0,0,0,1,0],[0,0,1,1,0,0],[0,0,1,0,0,0],[0,0,0,0,0,0],[0,0,1,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_hyp:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,1,1,1,1,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],_und:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[1,1,1,1,1,0],[0,0,0,0,0,0]],_sla:[[0,0,0,1,0],[0,0,0,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[1,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],"_+":[[0,0,0,0,0,0,0],[0,0,0,1,0,0,0],[0,0,0,1,0,0,0],[0,1,1,1,1,1,0],[0,0,0,1,0,0,0],[0,0,0,1,0,0,0],[0,0,0,0,0,0,0]],enter:"ent",height:9,line_space:2,getLter:function(t){if(t.match(/[A-Za-z0-9+]/))return this["_"+t];switch(t){case"\n":return this.enter;case" ":return this._spa;case"$":return this._dol;case"#":return this._pou;case"^":return this._car;case"_":return this._und;case"~":return this._ful;case"'":return this._sgq;case"-":return this._hyp;case'"':return this._dbq;case",":return this._com;case";":return this._sem;case"(":return this._lbr;case")":return this._rbr;case"*":return this._sta;case"?":return this._que;case"/":return this._sla;case".":return this._dot;case"%":return this._pct;case":":return this._col;case"@":return this._ats;default:return this.__}}},small:{_1:[[1,0,0],[1,0,0],[1,0,0],[1,0,0]],_2:[[1,1,1,0],[0,0,1,0],[1,0,0,0],[1,1,1,0]],_3:[[1,1,1,0],[0,1,1,0],[0,0,1,0],[1,1,1,0]],_4:[[1,0,1,0],[1,0,1,0],[1,1,1,0],[0,0,1,0]],_5:[[1,1,1,0],[1,0,0,0],[0,0,1,0],[1,1,1,0]],_6:[[1,1,1,0],[1,0,0,0],[1,1,1,0],[1,1,1,0]],_7:[[1,1,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0]],_8:[[0,1,1,0],[0,1,1,0],[1,0,1,0],[1,1,1,0]],_9:[[1,1,1,0],[1,1,1,0],[0,0,1,0],[1,1,1,0]],_0:[[0,1,1,0,0],[1,0,0,1,0],[1,0,0,1,0],[0,1,1,0,0]],_Z:[[1,1,1,0],[0,0,1,0],[1,0,0,0],[1,1,1,0]],_Y:[[1,0,1,0],[1,0,1,0],[0,1,0,0],[0,1,0,0]],_X:[[1,0,1,0],[0,1,0,0],[1,0,1,0],[1,0,1,0]],_W:[[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,1,0,1,0],[0,1,0,1,0,0]],_V:[[1,0,1,0],[1,0,1,0],[1,0,1,0],[0,1,0,0]],_U:[[1,0,1,0],[1,0,1,0],[1,0,1,0],[0,1,1,0]],_T:[[1,1,1,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]],_S:[[0,1,1,0],[1,0,0,0],[0,0,1,0],[1,1,0,0]],_R:[[1,1,0,0],[1,0,1,0],[1,1,0,0],[1,0,1,0]],_Q:[[0,1,1,0,0],[1,0,0,1,0],[1,0,0,1,0],[0,1,1,1,0]],_P:[[1,1,0,0],[1,0,1,0],[1,1,0,0],[1,0,0,0]],_O:[[0,1,1,0,0],[1,0,0,1,0],[1,0,0,1,0],[0,1,1,0,0]],_N:[[1,0,0,1,0],[1,1,0,1,0],[1,0,1,1,0],[1,0,0,1,0]],_M:[[0,1,0,1,0,0],[1,0,1,0,1,0],[1,0,1,0,1,0],[1,0,1,0,1,0]],_L:[[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,1,1,0]],_K:[[1,0,1,0],[1,1,0,0],[1,0,1,0],[1,0,1,0]],_J:[[0,0,1,0],[0,0,1,0],[1,0,1,0],[1,1,1,0]],_I:[[1,0,0],[1,0,0],[1,0,0],[1,0,0]],_H:[[1,0,1,0],[1,0,1,0],[1,1,1,0],[1,0,1,0]],_G:[[0,1,1,0],[1,0,0,0],[1,0,1,0],[1,1,1,0]],_F:[[1,1,1,0],[1,0,0,0],[1,1,0,0],[1,0,0,0]],_E:[[1,1,1,0],[1,1,0,0],[1,0,0,0],[1,1,1,0]],_D:[[1,1,0,0],[1,0,1,0],[1,0,1,0],[1,1,0,0]],_C:[[0,1,1,0],[1,0,0,0],[1,0,0,0],[0,1,1,0]],_B:[[1,1,0,0],[1,1,0,0],[1,0,1,0],[1,1,1,0]],_A:[[0,1,0,0],[1,0,1,0],[1,1,1,0],[1,0,1,0]],_spa:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],_dot:[[0,0],[0,0],[0,0],[1,0]],_sla:[[0,0,1,0],[0,1,0,0],[0,1,0,0],[1,0,0,0]],"_+":[[0,1,0,0],[1,1,1,0],[0,1,0,0],[0,0,0,0]],_hyp:[[0,0,0,0],[1,1,1,0],[0,0,0,0],[0,0,0,0]],_col:[[0,0],[1,0],[0,0],[1,0]],_lbr:[[0,1,0],[1,0,0],[1,0,0],[0,1,0]],_rbr:[[0,1,0],[0,0,1],[0,0,1],[0,1,0]],enter:"ent",height:4,getLter:function(t){if((t=t.toUpperCase()).match(/[A-Z0-9+]/))return this["_"+t];switch(t){case" ":return this._spa;case"(":return this._lbr;case")":return this._rbr;case"\n":return this.enter;case"/":return this._sla;case":":return this._col;case"-":return this._hyp;case".":return this._dot;default:return this.__}}}},e=function(e){this.extendParam(e),this.font=t,this.drawRect=this.drawRect.bind(this),this.drawLine=this.drawLine.bind(this),this.drawPixel=this.drawPixel.bind(this),this.drawMatrix=this.drawMatrix.bind(this),this.drawLetter=this.drawLetter.bind(this),this.drawWords=this.drawWords.bind(this),this.fillRect=this.fillRect.bind(this),this.drawScreen=this.drawScreen.bind(this)};e.prototype.extendParam=function(t){void 0===t&&(t={});var e={bgColor:"#000",pixelColor:"#111",pixelWd:5,pixelHt:5,col:20,row:10,width:500,height:500,gutter:1,state:"off"};for(var i in e)this[i]=t[i]||e[i]},e.prototype.isInRect=function(t,e,i,r,s,n){return t>=i&&t<=i+s&&e>=r&&e<=r+n},e.prototype.isIn=function(t,e){return this.isInRect(t,e,0,0,this.col,this.row)},e.prototype.isRectIn=function(t,e,i,r){return this.isIn(t,e)&&this.isIn(t+i,e+r)},e.prototype.drawPixel=function(t,e,i){},e.prototype.drawLine=function(t,e,i,r,s){if(!this.isIn(t,e)||!this.isIn(i,r))return!1;if(t===i&&e===r)this.drawPixel(t,e,s);else if(t===i&&e<r)for(var n=e;n<=r;n++)this.drawPixel(t,n,s);else if(e===r&&t<i)for(var o=t;o<=i;o++)this.drawPixel(o,e,s)},e.prototype.fillRect=function(t,e,i,r,s){if(!this.isRectIn(t,e,i,r))return!1;for(var n=0;n<r;n++)this.drawLine(t,e+n,t+i,e+n,s)},e.prototype.drawRect=function(t,e,i,r,s){if(!this.isRectIn(t,e,i,r))return!1;this.drawLine(t,e,t,e+r-1,s),this.drawLine(t+i-1,e,t+i-1,e+r-1,s),this.drawLine(t,e,t+i-1,e,s),this.drawLine(t,e+r-1,t+i-1,e+r-1,s)},e.prototype.drawMatrix=function(t,e,i,r){for(var s=i[0].length,n=i.length,o=0;o<n;o++)for(var a=0;a<s;a++)i[o][a]&&this.drawPixel(t+a,e+o,r||i[o][a])},e.prototype.drawLetter=function(t,e,i,r,s){void 0===i&&(i="S"),void 0===r&&(r="big"),void 0===s&&(s="#fff");try{this.drawMatrix(t,e,this.font[r].getLter(i),s)}catch(t){console.log(r,this.font)}},e.prototype.drawWords=function(t,e,i,r,s){void 0===r&&(r="big"),void 0===s&&(s="#fff");for(var n=i.length,o=this.font[r],a=0;a<n;a++){var h=i.charAt(a);this.drawLetter(t,e,h,r,s);var c=o.getLter(h)[0].length;if("\n"===h||t>this.col-c){t=0,e+=o.height+o.line_space}else t+=c}},e.prototype.drawScreen=function(t){for(var e=0;e<this.row;e++)for(var i=0;i<this.col;i++)this.drawPixel(i,e,t||this.pixelColor)};var i=function(){this.observers=[]};i.prototype.subscribe=function(t){this.observers.includes(t)||this.observers.push(t)},i.prototype.unsubscribe=function(t){this.observers=this.observers.filter(function(e){return e!==t})},i.prototype.unsubscribeAll=function(){this.observers=[]},i.prototype.broadcast=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];this.observers.forEach(function(e){return e.apply(void 0,t)})};var r=function(t){function e(r,s){void 0===r&&(r="ledScreen"),t.call(this,s),this.canvas=e.initCanvas(r),this.canvas.style.background=this.bgColor,this.ctx=this.canvas.getContext("2d"),this.onResize=this.onResize.bind(this),this.count=function(){var t=0;return function(){return t+=1}}(),this.refreshObserver=new i,this.clickObserver=new i,this.refresh=this.refresh.bind(this),this.drawImage=this.drawImage.bind(this),this.drawSpinner=this.drawSpinner.bind(this),this.initEvent(),this.onResize(),this.turnOn(),this.refresh(),this.imageCache={},this.events=["click"],this.brushAPI={drawPixel:this.drawPixel,drawRect:this.drawRect,drawLine:this.drawLine,drawLetter:this.drawLetter,drawMatrix:this.drawMatrix,drawWords:this.drawWords,drawImage:this.drawImage,fillScreen:this.drawScreen,fillRect:this.fillRect}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.turnOn=function(){this.state="on"},e.prototype.on=function(t,e){"click"===t&&this.clickObserver.subscribe(e)},e.prototype.turnOff=function(){this.state="off",this.clearScreen()},e.prototype.mount=function(t){this.count(),this.refreshObserver.subscribe(t)},e.prototype.unmount=function(t){this.refreshObserver.unsubscribe(t)},e.prototype.unmountAll=function(){this.refreshObserver.unsubscribeAll()},e.prototype.update=function(){this.clearScreen(),this.drawScreen(),this.refreshObserver.broadcast(this.brushAPI,this.mousePos||{x:0,y:0})},e.prototype.refresh=function(){"on"===this.state&&this.update(),this.requestAnimFrame()(this.refresh)},e.prototype.clearScreen=function(){this.ctx.clearRect(0,0,this.width,this.height)},e.prototype.screenPos2ledPos=function(t){var e=this.canvas.getBoundingClientRect(),i=e.left,r=e.top;return t.x-i<0||t.y-r<0?{x:0,y:0}:{x:Math.floor((t.x-i)/(this.pixelWd+this.gutter)),y:Math.floor((t.y-r)/(this.pixelHt+this.gutter))}},e.prototype.drawPixel=function(t,e,i){t=parseInt(t),e=parseInt(e),this.ctx.fillStyle=i,this.ctx.fillRect(t*(this.pixelWd+this.gutter)+this.gutter+this.offsetX,e*(this.pixelHt+this.gutter)+this.gutter+this.offsetY,this.pixelWd,this.pixelHt)},e.prototype.drawSpinner=function(t,e){this.drawWords(t-14,e,"loading","small","#222"),this.drawPixel(t-14+this.count()%3,e+3,["#00ac50","#ff8888","#fec127"][this.count()%3])},e.prototype.drawImage=function(t,i,r,s,n){var o=this,a=this.imageCache[t];if(a){var h=e.parseImageData(a);this.drawMatrix(i,r,h)}else!0!==n&&this.drawSpinner(i+s/2,r+3),this.loadImage(t).then(function(n){var a=o.getImageData(n,s,t);if(a){var h=e.parseImageData(a);o.drawMatrix(i,r,h)}}).catch(function(t){console.log(t)})},e.prototype.getImageData=function(t,e,i){var r=t.width,s=t.height,n=parseInt(e*s/r),o=this.createExtraCanvas(e,n),a=o.getContext("2d");a.drawImage(t,0,0,e,n);try{this.imageCache[i]=a.getImageData(0,0,e,n)}catch(t){return o.remove(),!1}return o.remove(),this.imageCache[i]},e.parseImageData=function(t){for(var e=t.width,i=t.height,r=t.data,s=[],n=function(t,e,i,r){return"rgba("+t+", "+e+", "+i+", "+r+")"},o=0;o<e*i;o++)s.push(n.apply(void 0,r.slice(4*o,4*(o+1))));return function(t,e){for(var i=Math.ceil(t.length/e),r=[],s=0;s<i;s++)r.push(t.slice(s*e,(s+1)*e));return r}(s,e)},e.prototype.loadImage=function(t){return new Promise(function(e,i){var r=new Image;r.src=t,r.addEventListener("load",function(){e(r)}),r.addEventListener("error",function(){i("load image error!")})})},e.prototype.destroy=function(){this.canvas.remove()},e.prototype.initEvent=function(){var t=this;window.addEventListener("resize",this.onResize),window.addEventListener("mousemove",function(e){t.mousePos=t.screenPos2ledPos({x:e.clientX,y:e.clientY})}),window.addEventListener("click",function(e){if(!t.isIn(t.mousePos.x,t.mousePos.y))return!1;t.clickObserver.broadcast(t.mousePos)})},e.prototype.onResize=function(){this.width=this.canvas.width=this.canvas.offsetWidth,this.height=this.canvas.height=this.canvas.offsetHeight,this.row=Math.floor((this.height-this.gutter)/(this.pixelHt+this.gutter)),this.col=Math.floor((this.width-this.gutter)/(this.pixelWd+this.gutter));var t=(this.col-1)*this.gutter,e=(this.row-1)*this.gutter,i=this.col*this.pixelWd,r=this.row*this.pixelHt;this.offsetX=parseInt((this.width-(i+t))/2),this.offsetY=parseInt((this.height-(r+e))/2)},e.prototype.createExtraCanvas=function(t,e){var i=document.createElement("canvas");Object.assign(i.style,{width:t,height:e,display:"none"});var r=document.getElementsByTagName("body")[0].appendChild(i);return r.width=t,r.height=e,r},e.initCanvas=function(t){var e=document.getElementById(t),i="ledScreenCanvasEl",r=e.getElementsByClassName(i);if(r.length)for(;r.length>0;)e.removeChild(r[0]);var s=document.createElement("canvas");return s.className=i,s.style.width="100%",s.style.height="100%",e.appendChild(s)},e.prototype.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}},e}(e);window.LedScreen=r,module.exports=r;
//# sourceMappingURL=ledscreen.js.map
